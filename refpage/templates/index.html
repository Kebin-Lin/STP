{% extends "base.html" %}
{% block body %}
<div class="container" style="margin-top:50px">
  <div class='row'>
    <div class='col'>
      <h1>
        WebSockets
      </h1>
      <p style='font-size:12px'>
        with STP (1 &deg;C, 1 ATm)
      </p>
      <hr>
      <h3>
        Table of Contents
      </h3>
      <ul style='list-style-type: none'>
        <li>
          <a href="#duplexcommunication">Duplex Communication</a>
          <ul style='list-style-type: none'>
            <li>
              <a href='#polling'>Polling</a>
            </li>
            <li>
              <a href='#longpolling'>Long Polling</a>
            </li>
          </ul>
        </li>
        <li>
          <a href="#websockets">WebSockets</a>
        </li>
        <li>
          <a href="#handshake">Handshake</a>
        </li>
        <li>
          <a href="#applications">Applications of WebSockets</a>
        </li>
        <li>
          <a href='#events'>Events</a>
        </li>
      </ul>
      <hr>
      <h4 id="duplexcommunication">
        Duplex Communication
      </h4>
      <p>
        Duplex Communication is when both ends of the communcation can send and recieve
        signals to one another. In this case, the two ends for communication are the
        server and the client.
      </p>
      <p id='polling'><b>Polling</b></p>
      <p>
        HTTP requests are unidirectional communication and are stateless.
        Polling is when these HTTP requests are done at a set time interval to
        check for new data.
      </p>
      <p id='longpolling'><b>HTTP Long Polling</b></p>
      <p>
        The goal of long polling is to achieve realtime updates from server to client.
        It is similar to polling, but the server delays the response of a HTTP request until after
        new data is available.
      </p>
      <img src='https://www.pubnub.com/wp-content/uploads/2014/11/HTTP-LONG-POLLING.png' width='100%'>
      <table>
      <tr>
      <td>Pros</td><td>Cons</td>
      </tr>
      <tr>
      <td>Ability to get realtime updates</td>
      <td>May cause high latency</td>
      </tr>
      <tr>
      <td>Easy to implement</td>
      <td>Uses a lot of bandwidth and server resources</td>
      </tr>
      <tr>
      <td>Unnecessarily opening/closing many connections</td>
      </tr>
      </table>
      <hr>
        <h4 id="applications">Applications of WebSockets</h4>
        <p>The intended use of WebSockets is for realtime applications.</p>
        <p>Here is a list of common uses</p>
        <ul>
        <li>
          Chat Rooms
        </li>
        <li>
          Online Games
        </li>
        <li>
          Dynamic Search Bars
        </li>
        </ul>
      <hr>
      <h4 id='events'>
        Events
      </h4>
      <p>
        Events are the backbone of how WebSockets are used. They facilitate data
        transfer between the client and the server. They can be thought of as
        similar to the events that you are used to in JavaScript. Here are some
        types of events that can be used:
      </p>
      <ul>
        <li>
          onopen (connect) - when the connection is first created by the handshake
          <ul>
            <li>
              Useful when a set of actions needs to be executed upon successfully
              connecting to the server, such as setting up a user
            </li>
          </ul>
        </li>
        <li>
          onmessage (message) - when the client/server sends data
          <ul>
            <li>
              Used to send some kind of message between the client and server,
              for example a message on the status of the user
            </li>
          </ul>
        </li>
        <li>
          onclose (disconnect) - when the connection is closed
          <ul>
            <li>
              Useful for cleaning up a user's data when they leave the site
            </li>
          </ul>
        </li>
        <li>
          onerror - when an error occurs; followed by connection closing
          <ul>
            <li>
              Can be used to notify the user of some problem
            </li>
          </ul>
        </li>
      </ul>
      <p>
        Although these events are included by default, WebSockets supports the
        naming of custom events, which will help the organize and split up tasks
        for the server/client to execute. An example would be using custom events
        to separate moves made in a game of tic tac toe, and messages from a player
        to another.
      </p>
      <p>
        Events can also be used to ask the server to perform a task that is
        hidden from the user. The user can send an event to initiate the task,
        then the server can send an event back as a response. This may be useful
        to avoid the user accessing confidential data, or to prevent the need for
        the user to download and process a large dataset. Best of all, this
        entire sequence of event processing can be done without the need for a
        page refresh, giving the user a smoother experience.
      </p>
    <div class='col'>
  </div>
</div>
{% endblock %}
